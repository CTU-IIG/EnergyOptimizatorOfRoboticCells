<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>solver: parallel hybrid heuristic</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">solver
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">parallel hybrid heuristic </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>Description of the key parts of the heuristic.<br />
</p>
<div class="image">
<img src="parallel_heuristic.png" alt="parallel_heuristic.png"/>
<div class="caption">
Flowchart of the heuristic</div></div>
 <h3>Brief description of the blocks</h3>
<table class="doxtable">
<tr>
<th align="center">block </th><th align="left">description </th><th align="center">reference  </th></tr>
<tr>
<td align="center">generate <img class="formulaInl" alt="$\mathcal{HC}_r^{\mathrm{act}}$" src="form_64.png"/> </td><td align="left">It generates various robot alternatives <img class="formulaInl" alt="$\mathcal{HC}_r^{\mathrm{act}}$" src="form_64.png"/>, i.e. Hamiltonian Circuits that visits each static activity just once. An alternative indirectly specifies the order of operations, however, go-through coordinates (called locations) do not have to be known. </td><td align="center"><a class="el" href="classParallelHeuristicSolver.html#afa9311b7a30ceed77e990c89f7d51372">ParallelHeuristicSolver::generateRandomAlternatives</a>, <a class="el" href="classParallelHeuristicSolver.html#a56021d5c648f710d874346e6aa1c4dc3" title="It finds random alternatives for each robot and calculates their shortest closed paths through locati...">ParallelHeuristicSolver::generateShortestCircuits</a> </td></tr>
<tr>
<td align="center">combine elite solutions </td><td align="left">Alternatives used in elite solutions are randomly selected to generate new promising tuples, i.e. partially fixed problems. These tuples should intensify the searching process, and as a result, a better quality of solutions is expected. </td><td align="center"><a class="el" href="classParallelHeuristicSolver.html#ab247b5c61bc4d777d5d1ce87718f50ed">ParallelHeuristicSolver::generatePromisingTuples</a> </td></tr>
<tr>
<td align="center">read next tuple </td><td align="left">The next tuple (a partially fixed problem) is read from the knowledge base, i.e. shared data of the heuristic. </td><td align="center"><a class="el" href="classKnowledgeBase.html#af48f16196e4f6465687ee49e375215e9">KnowledgeBase::getTuple</a> </td></tr>
<tr>
<td align="center">generate tuples </td><td align="left">A candidate tuples, i.e. partially fixed problems, are generated and added to the knowledge base. </td><td align="center"><a class="el" href="classParallelHeuristicSolver.html#a28ae0a0e88f07796bb67480a933f979b">ParallelHeuristicSolver::addRandomTuplesToKB</a>, <a class="el" href="classKnowledgeBase.html" title="Protected access to the shared data of the threads of the parallel heuristic. ">KnowledgeBase</a> </td></tr>
<tr>
<td align="center">solve reduced LP problem </td><td align="left">Given fixed locations, movements, and power saving modes the partially fixed problem is solved to obtain timing of the robotic cell. The resulting timing and the partially fixed problem gives a feasible solution which may be added to the list of elite solutions. Note that it may be necessary that Linear Programming is called more than once to resolve collisions between robots </td><td align="center"><a class="el" href="classHeuristicAlgorithms.html#abd5588eab6e5aaf559d00d8421a51009">HeuristicAlgorithms::solvePartialProblem</a>, <a class="el" href="classHeuristicAlgorithms.html#a3c7f241e3a995dec4df37f941776cdd1" title="It checks whether there is a collision between two specified activities, and eventually returns how t...">HeuristicAlgorithms::resolveCollision</a>, <a class="el" href="classHeuristicAlgorithms.html#a528054eec6e2326d4a36f81ff38ee3d1" title="It finds the worst collision, i.e. with the longest time of active collision, and returns how to reso...">HeuristicAlgorithms::resolveTheWorstCollision</a> </td></tr>
<tr>
<td align="center">(de)select power mode </td><td align="left">This sub-heuristic selects a location where an original power saving mode of the robot will be changed to another one to save energy. Estimation of the energy reduction is based on Gantt scaling and on the violation of global time constraints. </td><td align="center"><a class="el" href="classHeuristicAlgorithms.html#a533a4de85081bfc9bd1b545b5c228a71">HeuristicAlgorithms::heuristicPowerModeSelection</a>, <a class="el" href="classHeuristicAlgorithms.html#a158982c033e99d89c93dba6c29f32e59" title="It scales durations of activities in such a way that the robot cycle time is met. Updated start times...">HeuristicAlgorithms::scaleGanttToCycleTime</a>, <a class="el" href="classHeuristicAlgorithms.html#ae601403b9ed04c839f484013ca95efa0" title="It calculates the penalty for the violation of time lags and collisions. ">HeuristicAlgorithms::calculateBreakagePenalty</a> </td></tr>
<tr>
<td align="center">change locations </td><td align="left">This sub-heuristic locally optimizes the robot paths through locations. Basically, for each consecutive triple of locations <img class="formulaInl" alt="$l_f \rightarrow l_m \rightarrow l_t$" src="form_65.png"/>, corresponding to a part of the robot closed path, a middle location <img class="formulaInl" alt="$l_m$" src="form_66.png"/> may be replaced by another one if it is more energy efficient. Golden Section search method is used to find the best replacements. </td><td align="center"><a class="el" href="classHeuristicAlgorithms.html#a8ff0d590aa5f78e010fbfee385275e78">HeuristicAlgorithms::heuristicLocationChanges</a>, <a class="el" href="Algorithms_8h.html#a495ffa08b152c8a9b96ed636a9a46a2b">goldenSearch</a>, <a class="el" href="classUnimodalFunctionHeuristic.html" title="An unimodal function for two movements and their fixed total time. ">UnimodalFunctionHeuristic</a> </td></tr>
<tr>
<td align="center">change path </td><td align="left">This sub-heuristic diversifies the search process by perturbing the robot paths. This moves the heuristic to other parts of the solution space that would be otherwise unreachable. </td><td align="center"><a class="el" href="classParallelHeuristicSolver.html#a26dba51d1509305ce3cf966176b88d44">ParallelHeuristicSolver::changeRobotPaths</a> </td></tr>
<tr>
<td align="center">optimization part </td><td align="left">The goal of the part highlighted by red arrows is to optimize already feasible solutions. The maximal number of optimization iterations without a significant improvement is denoted as <img class="formulaInl" alt="$\Phi_{\mathrm{max}}$" src="form_67.png"/>. </td><td align="center"><a class="el" href="namespaceSettings.html#a528aca0aec3236176299d861eab1ccaa">Settings::MIN_ITERS_PER_TUPLE</a> </td></tr>
<tr>
<td align="center">control thread </td><td align="left">The thread that generates alternatives, launches the worker threads, generates promising tuples from time to time, and joins the worker threads after a given time limit. </td><td align="center"><a class="el" href="classParallelHeuristicSolver.html#a25f0552e58e0d45be3eeb7d86947c5ea">ParallelHeuristicSolver::controlThread</a> </td></tr>
<tr>
<td align="center">worker thread(s) </td><td align="left">The main responsibility of worker threads is to generate the tuples and optimize them to find a good quality solutions. </td><td align="center"><a class="el" href="classParallelHeuristicSolver.html#afb59f538b3ced2d0388e82f837c05894">ParallelHeuristicSolver::workerThread</a>, <a class="el" href="namespaceSettings.html#a624a1fe5cbbc224c2d828681b71a5104" title="Maximal number of threads to be used. ">Settings::NUMBER_OF_THREADS</a> </td></tr>
</table>
<h3>Reduced Linear Programming problem</h3>
<p>This part presents a Linear Programming formulation used for solving partially fixed problems. The most of the used symbols and variables is defined in <a class="el" href="math_form.html">mathematical formulation</a> page, however some additional symbols are required to be set out. <img class="formulaInl" alt="$\hat{f}_e^t(d_e)$" src="form_68.png"/> is the energy function of dynamic activity <img class="formulaInl" alt="$e \in E$" src="form_22.png"/> and its movement <img class="formulaInl" alt="$t \in T_e$" src="form_48.png"/>. These functions are convex and piece-wise linearized, and therefore appropriate for a tailor-made Gurobi simplex algorithm. Sets <img class="formulaInl" alt="$\mathcal{F}_{\!\mathcal{T}}^1, \mathcal{F}_{\!\mathcal{T}}^2$" src="form_69.png"/> are extracted from the tuple and determine which movements, locations, and power saving modes are fixed. The constraints marked by asterisks correspond to the ones in the Integer Linear Programming formulation but they are generated from different sets since only a sub-part of the problem is taken into account. And finally, sets <img class="formulaInl" alt="$\mathcal{D}_{\geq}, \mathcal{D}_{\leq}$" src="form_70.png"/> generate additional constraints that resolve collisions by adding <img class="formulaInl" alt="$a_1 \rightarrow a_2$" src="form_61.png"/> precedence or vice versa. The resulting energy-efficient timing is feasible for the original formulation.</p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\begin{alignat}{3} &amp; \text{minimize} \displaystyle \sum_{\forall (e, t) \in \mathcal{F}_{\!\mathcal{T}}^1} \hat{f}_e^t(d_e) + \sum_{\forall (v,l,m) \in \mathcal{F}_{\!\mathcal{T}}^2} p_{v,l}^m d_v \\[1mm] &amp; \quad \text{subject to:}\;\text{(9)*}, \text{(10)*}, \text{(14)*}, \text{(15)*}, \text{(16)*} \\ &amp; \quad s_{a_2}+ n \mathrm{CT} \geq s_{a_1}+d_{a_1} \qquad \forall (a_1, a_2, n) \in \mathcal{D}_{\geq} &amp; \qquad &amp; (21) \\ &amp; \quad s_{a_2} + d_{a_2} + n \mathrm{CT} \leq s_{a_1} \qquad \forall (a_1, a_2, n) \in \mathcal{D}_{\leq} &amp; \qquad &amp; (22) \end{alignat}" src="form_71.png"/>
</p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classHeuristicAlgorithms.html#abd5588eab6e5aaf559d00d8421a51009" title="Employs Linear Programming to obtain energy-efficient timing for a given tuple. ">HeuristicAlgorithms::solvePartialProblem</a>, <a class="el" href="classRoboticLineSolverLP.html" title="Determines an optimal timing of a partially fixed problem. ">RoboticLineSolverLP</a>, <a class="el" href="structILPModel.html" title="Integer Linear Programming problem is stored in this data structure. ">ILPModel</a> </dd></dl>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Oct 7 2015 16:53:29 for solver by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
