<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.9.1"/>
<title>solver: ParallelHeuristicSolver Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    extensions: ["tex2jax.js"],
    jax: ["input/TeX","output/HTML-CSS"],
});
</script><script src="http://cdn.mathjax.org/mathjax/latest/MathJax.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">solver
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.9.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pri-methods">Private Member Functions</a> &#124;
<a href="#pri-static-methods">Static Private Member Functions</a> &#124;
<a href="#pri-attribs">Private Attributes</a> &#124;
<a href="classParallelHeuristicSolver-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">ParallelHeuristicSolver Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>A parallel heuristic for the energy optimization of robotic cells.  
 <a href="classParallelHeuristicSolver.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="ParallelHeuristicSolver_8h_source.html">ParallelHeuristicSolver.h</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Collaboration diagram for ParallelHeuristicSolver:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classParallelHeuristicSolver__coll__graph.png" border="0" usemap="#ParallelHeuristicSolver_coll__map" alt="Collaboration graph"/></div>
<map name="ParallelHeuristicSolver_coll__map" id="ParallelHeuristicSolver_coll__map">
<area shape="rect" id="node2" href="structPrecalculatedMapping.html" title="The structure contains the maps for fast searching in the robotic cell. " alt="" coords="1608,4529,1771,4607"/><area shape="rect" id="node49" href="classHeuristicAlgorithms.html" title="Defines the optimization part of the parallel heuristic, i.e. sub&#45;heuristics and the evaluation of tu..." alt="" coords="619,4841,849,5050"/><area shape="rect" id="node4" href="classActivity.html" title="The base class incorporating common properties of robot operations and movements. ..." alt="" coords="1181,1150,1360,1594"/><area shape="rect" id="node11" href="classTimeLag.html" title="Instance of TimeLag class defines a time relation between two different robots. " alt="" coords="959,1702,1059,1911"/><area shape="rect" id="node24" href="classDynamicActivity.html" title="Collection of movements between two static activities. " alt="" coords="1491,1673,1665,1941"/><area shape="rect" id="node25" href="classStaticActivity.html" title="Collection of locations in which a robot operation (or waiting) can be performed. ..." alt="" coords="1756,3646,1975,3914"/><area shape="rect" id="node6" href="classRobot.html" title="Instance of this class includes all the data structures and methods related to a robot. " alt="" coords="897,817,1103,1085"/><area shape="rect" id="node7" href="classRoboticLine.html" title="The robotic cell corresponds to an instance of this class. " alt="" coords="650,320,843,691"/><area shape="rect" id="node9" href="classInterRobotOperation.html" title="The inter&#45;robot operation corresponding to the workpiece/weldment handling. " alt="" coords="480,2505,689,2743"/><area shape="rect" id="node12" title="STL class. " alt="" coords="705,157,787,235"/><area shape="rect" id="node13" title="STL class. " alt="" coords="681,6,811,98"/><area shape="rect" id="node19" href="classLocation.html" title="Location of the robot used either during work (welding) or waiting. " alt="" coords="1819,2899,2105,3255"/><area shape="rect" id="node22" href="classMovement.html" title="The instance of the class corresponds to a robot movement between two coordinates. " alt="" coords="1696,2083,1867,2439"/><area shape="rect" id="node20" href="classActivityMode.html" title="Either a movement or location. " alt="" coords="2231,1746,2364,1867"/><area shape="rect" id="node39" href="classKnowledgeBase.html" title="Protected access to the shared data of the threads of the parallel heuristic. " alt="" coords="285,4361,493,4775"/><area shape="rect" id="node41" href="structCircuitTuple.html" title="A partially fixed problem, i.e. tuple. " alt="" coords="351,3741,447,3819"/></map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:ac9dcf8faf21774a45ac779030626a8fd"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParallelHeuristicSolver.html#ac9dcf8faf21774a45ac779030626a8fd">ParallelHeuristicSolver</a> (const <a class="el" href="classRoboticLine.html">RoboticLine</a> &amp;l, const <a class="el" href="structPrecalculatedMapping.html">PrecalculatedMapping</a> &amp;m)</td></tr>
<tr class="memdesc:ac9dcf8faf21774a45ac779030626a8fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">It initializes the heuristic, i.e. preallocates some arrays, calculates the length of the tabu list, etc.  <a href="#ac9dcf8faf21774a45ac779030626a8fd">More...</a><br /></td></tr>
<tr class="separator:ac9dcf8faf21774a45ac779030626a8fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a425459a8d9e46ede261734c984c3bcf4"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structSolution.html">Solution</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParallelHeuristicSolver.html#a425459a8d9e46ede261734c984c3bcf4">solve</a> ()</td></tr>
<tr class="memdesc:a425459a8d9e46ede261734c984c3bcf4"><td class="mdescLeft">&#160;</td><td class="mdescRight">It optimizes the robotic cell and returns the best found solution.  <a href="#a425459a8d9e46ede261734c984c3bcf4">More...</a><br /></td></tr>
<tr class="separator:a425459a8d9e46ede261734c984c3bcf4"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-methods"></a>
Private Member Functions</h2></td></tr>
<tr class="memitem:a25f0552e58e0d45be3eeb7d86947c5ea"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParallelHeuristicSolver.html#a25f0552e58e0d45be3eeb7d86947c5ea">controlThread</a> ()</td></tr>
<tr class="memdesc:a25f0552e58e0d45be3eeb7d86947c5ea"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates various alternatives, launches worker threads, prints progress info, joins the workers, and handles errors of workers.  <a href="#a25f0552e58e0d45be3eeb7d86947c5ea">More...</a><br /></td></tr>
<tr class="separator:a25f0552e58e0d45be3eeb7d86947c5ea"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afb59f538b3ced2d0388e82f837c05894"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParallelHeuristicSolver.html#afb59f538b3ced2d0388e82f837c05894">workerThread</a> (uint32_t threadId, std::vector&lt; std::vector&lt; <a class="el" href="structCircuitRecord.html">CircuitRecord</a> &gt;&gt; initialCircuits, <a class="el" href="DataStructures_8h.html#a6d7070fb4665f8ddd682119b16d891e9">PrecalculatedCircuits</a> precalculatedCircuits)</td></tr>
<tr class="memdesc:afb59f538b3ced2d0388e82f837c05894"><td class="mdescLeft">&#160;</td><td class="mdescRight">The worker thread generates initial tuples, and optimizes them by local modifications proposed by sub-heuristics.  <a href="#afb59f538b3ced2d0388e82f837c05894">More...</a><br /></td></tr>
<tr class="separator:afb59f538b3ced2d0388e82f837c05894"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8a03d5b53452d8439c67daeb31e05fb1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structGraph.html">Graph</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParallelHeuristicSolver.html#a8a03d5b53452d8439c67daeb31e05fb1">constructMinimalDurationGraph</a> (<a class="el" href="classRobot.html">Robot</a> *r) const </td></tr>
<tr class="memdesc:a8a03d5b53452d8439c67daeb31e05fb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates a distance graph for the given robot.  <a href="#a8a03d5b53452d8439c67daeb31e05fb1">More...</a><br /></td></tr>
<tr class="separator:a8a03d5b53452d8439c67daeb31e05fb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a6089f6ae29acb565dbff981ebbaaa483"><td class="memItemLeft" align="right" valign="top"><a class="el" href="Algorithms_8h.html#adefb1b4662303d856922650a8bca040a">DistanceMatrix</a>&lt; double &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParallelHeuristicSolver.html#a6089f6ae29acb565dbff981ebbaaa483">createInitialDistanceMatrix</a> (const <a class="el" href="structGraph.html">Graph</a> &amp;g) const </td></tr>
<tr class="memdesc:a6089f6ae29acb565dbff981ebbaaa483"><td class="mdescLeft">&#160;</td><td class="mdescRight">It creates an initial matrix of distances based on edge lengths.  <a href="#a6089f6ae29acb565dbff981ebbaaa483">More...</a><br /></td></tr>
<tr class="separator:a6089f6ae29acb565dbff981ebbaaa483"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:afa9311b7a30ceed77e990c89f7d51372"><td class="memItemLeft" align="right" valign="top">std::vector&lt; <a class="el" href="structCircuitRecord.html">CircuitRecord</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParallelHeuristicSolver.html#afa9311b7a30ceed77e990c89f7d51372">generateRandomAlternatives</a> (const uint32_t &amp;threadId, const <a class="el" href="structGraph.html">Graph</a> &amp;g, const <a class="el" href="Algorithms_8h.html#adefb1b4662303d856922650a8bca040a">DistanceMatrix</a>&lt; double &gt; &amp;m)</td></tr>
<tr class="memdesc:afa9311b7a30ceed77e990c89f7d51372"><td class="mdescLeft">&#160;</td><td class="mdescRight">Generates some random alternatives, i.e. candidates for a feasible order, from a distance graph and distance matrix of a robot.  <a href="#afa9311b7a30ceed77e990c89f7d51372">More...</a><br /></td></tr>
<tr class="separator:afa9311b7a30ceed77e990c89f7d51372"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aacfa1002d9ac0e9fbbc78a0e11b10bc1"><td class="memItemLeft" align="right" valign="top"><a class="el" href="structHamiltonianCircuit.html">HamiltonianCircuit</a>&lt; <a class="el" href="classLocation.html">Location</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParallelHeuristicSolver.html#aacfa1002d9ac0e9fbbc78a0e11b10bc1">getShortestCircuit</a> (const uint32_t &amp;threadId, const std::vector&lt; <a class="el" href="classStaticActivity.html">StaticActivity</a> * &gt; &amp;circuit, const std::vector&lt; <a class="el" href="classLocation.html">Location</a> * &gt; &amp;fixed, bool writeCircuit=true)</td></tr>
<tr class="memdesc:aacfa1002d9ac0e9fbbc78a0e11b10bc1"><td class="mdescLeft">&#160;</td><td class="mdescRight">It calculates the shortest circuit through locations that visits each static activity in the same order as it is in <em>circuit</em> parameter.  <a href="#aacfa1002d9ac0e9fbbc78a0e11b10bc1">More...</a><br /></td></tr>
<tr class="separator:aacfa1002d9ac0e9fbbc78a0e11b10bc1"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a56021d5c648f710d874346e6aa1c4dc3"><td class="memItemLeft" align="right" valign="top">std::vector&lt; std::vector&lt; <a class="el" href="structCircuitRecord.html">CircuitRecord</a> &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParallelHeuristicSolver.html#a56021d5c648f710d874346e6aa1c4dc3">generateShortestCircuits</a> (<a class="el" href="DataStructures_8h.html#a6d7070fb4665f8ddd682119b16d891e9">PrecalculatedCircuits</a> &amp;precalculatedCircuits)</td></tr>
<tr class="memdesc:a56021d5c648f710d874346e6aa1c4dc3"><td class="mdescLeft">&#160;</td><td class="mdescRight">It finds random alternatives for each robot and calculates their shortest closed paths through locations.  <a href="#a56021d5c648f710d874346e6aa1c4dc3">More...</a><br /></td></tr>
<tr class="separator:a56021d5c648f710d874346e6aa1c4dc3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7c18787afc1e1c32b6e5d64f17cd666"><td class="memItemLeft" align="right" valign="top">uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParallelHeuristicSolver.html#ae7c18787afc1e1c32b6e5d64f17cd666">selectAlternative</a> (const std::vector&lt; <a class="el" href="structCircuitRecord.html">CircuitRecord</a> &gt; &amp;alternatives) const </td></tr>
<tr class="memdesc:ae7c18787afc1e1c32b6e5d64f17cd666"><td class="mdescLeft">&#160;</td><td class="mdescRight">It randomly selects a robot alternative according to a distribution function that slightly prefers the alternatives with lower estimation of the robot cycle time.  <a href="#ae7c18787afc1e1c32b6e5d64f17cd666">More...</a><br /></td></tr>
<tr class="separator:ae7c18787afc1e1c32b6e5d64f17cd666"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aad20eb616735ba3814a0efa76c837816"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParallelHeuristicSolver.html#aad20eb616735ba3814a0efa76c837816">calculateNewCycleTime</a> (const uint32_t &amp;threadId, const double &amp;currentCycleTime, std::vector&lt; <a class="el" href="classStaticActivity.html">StaticActivity</a> * &gt; &amp;alternative, std::vector&lt; <a class="el" href="classLocation.html">Location</a> * &gt; &amp;fixed, <a class="el" href="classLocation.html">Location</a> *toFix, <a class="el" href="DataStructures_8h.html#a6d7070fb4665f8ddd682119b16d891e9">PrecalculatedCircuits</a> &amp;precalculatedCircuits)</td></tr>
<tr class="memdesc:aad20eb616735ba3814a0efa76c837816"><td class="mdescLeft">&#160;</td><td class="mdescRight">A highly optimized function calculates a lower estimation on the robot cycle time if <em>toFix</em> location is newly fixed.  <a href="#aad20eb616735ba3814a0efa76c837816">More...</a><br /></td></tr>
<tr class="separator:aad20eb616735ba3814a0efa76c837816"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a28ae0a0e88f07796bb67480a933f979b"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParallelHeuristicSolver.html#a28ae0a0e88f07796bb67480a933f979b">addRandomTuplesToKB</a> (const uint32_t &amp;threadId, const uint32_t &amp;numOfTuples, std::vector&lt; std::vector&lt; <a class="el" href="structCircuitRecord.html">CircuitRecord</a> &gt;&gt; &amp;initialCircuits, <a class="el" href="DataStructures_8h.html#a6d7070fb4665f8ddd682119b16d891e9">PrecalculatedCircuits</a> &amp;precalculatedCircuits)</td></tr>
<tr class="memdesc:a28ae0a0e88f07796bb67480a933f979b"><td class="mdescLeft">&#160;</td><td class="mdescRight">It generates and adds a requested number of tuples to the <a class="el" href="classKnowledgeBase.html" title="Protected access to the shared data of the threads of the parallel heuristic. ">KnowledgeBase</a>.  <a href="#a28ae0a0e88f07796bb67480a933f979b">More...</a><br /></td></tr>
<tr class="separator:a28ae0a0e88f07796bb67480a933f979b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ab247b5c61bc4d777d5d1ce87718f50ed"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParallelHeuristicSolver.html#ab247b5c61bc4d777d5d1ce87718f50ed">generatePromisingTuples</a> (const uint32_t &amp;threadId)</td></tr>
<tr class="memdesc:ab247b5c61bc4d777d5d1ce87718f50ed"><td class="mdescLeft">&#160;</td><td class="mdescRight">It generates promising tuples and adds them to the <a class="el" href="classKnowledgeBase.html" title="Protected access to the shared data of the threads of the parallel heuristic. ">KnowledgeBase</a>.  <a href="#ab247b5c61bc4d777d5d1ce87718f50ed">More...</a><br /></td></tr>
<tr class="separator:ab247b5c61bc4d777d5d1ce87718f50ed"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a26dba51d1509305ce3cf966176b88d44"><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParallelHeuristicSolver.html#a26dba51d1509305ce3cf966176b88d44">changeRobotPaths</a> (uint32_t threadId, const <a class="el" href="structCircuitTuple.html">CircuitTuple</a> &amp;t, <a class="el" href="structPartialSolution.html">PartialSolution</a> &amp;ps, const std::vector&lt; std::vector&lt; <a class="el" href="classLocation.html">Location</a> * &gt;&gt; &amp;fixed)</td></tr>
<tr class="memdesc:a26dba51d1509305ce3cf966176b88d44"><td class="mdescLeft">&#160;</td><td class="mdescRight">It randomly modifies the robot paths to enable the heuristic to search otherwise unreachable parts of the solution space.  <a href="#a26dba51d1509305ce3cf966176b88d44">More...</a><br /></td></tr>
<tr class="separator:a26dba51d1509305ce3cf966176b88d44"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a377a1376f55138ee5f1aa4f1c4200991"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParallelHeuristicSolver.html#a377a1376f55138ee5f1aa4f1c4200991">printProgressInfo</a> (const double &amp;currentRuntime)</td></tr>
<tr class="memdesc:a377a1376f55138ee5f1aa4f1c4200991"><td class="mdescLeft">&#160;</td><td class="mdescRight">Prints various information about the performance of the sub-heuristics, generation of tuples, and solving reduced problems by Linear Programming.  <a href="#a377a1376f55138ee5f1aa4f1c4200991">More...</a><br /></td></tr>
<tr class="separator:a377a1376f55138ee5f1aa4f1c4200991"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a718e534c49e653598892a55e53d9d91e"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParallelHeuristicSolver.html#a718e534c49e653598892a55e53d9d91e">writePerformanceRecordToLogFile</a> (const double &amp;initializationTime, const double &amp;finalRuntime)</td></tr>
<tr class="memdesc:a718e534c49e653598892a55e53d9d91e"><td class="mdescLeft">&#160;</td><td class="mdescRight">It writes various statistics about the heuristic performance to a CSV file.  <a href="#a718e534c49e653598892a55e53d9d91e">More...</a><br /></td></tr>
<tr class="separator:a718e534c49e653598892a55e53d9d91e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-static-methods"></a>
Static Private Member Functions</h2></td></tr>
<tr class="memitem:adb316c78d863498532e062db7747497f"><td class="memItemLeft" align="right" valign="top">static double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParallelHeuristicSolver.html#adb316c78d863498532e062db7747497f">penaltyFunction</a> (const double &amp;minCycle, const double &amp;demandedCycleTime)</td></tr>
<tr class="memdesc:adb316c78d863498532e062db7747497f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The function expressing the risk of exceeding the robot cycle time depending on its lower estimation.  <a href="#adb316c78d863498532e062db7747497f">More...</a><br /></td></tr>
<tr class="separator:adb316c78d863498532e062db7747497f"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pri-attribs"></a>
Private Attributes</h2></td></tr>
<tr class="memitem:a223ac73bb0f37ac4f4ffdfd095987e0f"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a223ac73bb0f37ac4f4ffdfd095987e0f"></a>
double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParallelHeuristicSolver.html#a223ac73bb0f37ac4f4ffdfd095987e0f">mRuntime</a></td></tr>
<tr class="memdesc:a223ac73bb0f37ac4f4ffdfd095987e0f"><td class="mdescLeft">&#160;</td><td class="mdescRight">The runtime of this heuristic, updated from time to time. <br /></td></tr>
<tr class="separator:a223ac73bb0f37ac4f4ffdfd095987e0f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae4defe3fdd724b75ecf559ec4feef165"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae4defe3fdd724b75ecf559ec4feef165"></a>
uint32_t&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParallelHeuristicSolver.html#ae4defe3fdd724b75ecf559ec4feef165">mTabuListSize</a></td></tr>
<tr class="memdesc:ae4defe3fdd724b75ecf559ec4feef165"><td class="mdescLeft">&#160;</td><td class="mdescRight">The number of tabu list elements calculated in the constructor. <br /></td></tr>
<tr class="separator:ae4defe3fdd724b75ecf559ec4feef165"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a781633e419bfeaa0401b931fc7f7faee"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a781633e419bfeaa0401b931fc7f7faee"></a>
std::atomic&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParallelHeuristicSolver.html#a781633e419bfeaa0401b931fc7f7faee">mFeasible</a></td></tr>
<tr class="memdesc:a781633e419bfeaa0401b931fc7f7faee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Used to stop other OpenMP threads if the instance infeasibility is detected by a thread. <br /></td></tr>
<tr class="separator:a781633e419bfeaa0401b931fc7f7faee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a54ce8fd29e2640234e7013a22a8cf6db"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a54ce8fd29e2640234e7013a22a8cf6db"></a>
std::atomic&lt; bool &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParallelHeuristicSolver.html#a54ce8fd29e2640234e7013a22a8cf6db">mStopCondition</a></td></tr>
<tr class="memdesc:a54ce8fd29e2640234e7013a22a8cf6db"><td class="mdescLeft">&#160;</td><td class="mdescRight">The control thread sets this flag to true to stop all the worker threads. <br /></td></tr>
<tr class="separator:a54ce8fd29e2640234e7013a22a8cf6db"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:adfa5a088ab37a43d0592e58b611ce10b"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="adfa5a088ab37a43d0592e58b611ce10b"></a>
<a class="el" href="classRoboticLine.html">RoboticLine</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParallelHeuristicSolver.html#adfa5a088ab37a43d0592e58b611ce10b">mLine</a></td></tr>
<tr class="memdesc:adfa5a088ab37a43d0592e58b611ce10b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Robotic cell to be optimized. <br /></td></tr>
<tr class="separator:adfa5a088ab37a43d0592e58b611ce10b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa2c96c424007ef58dda3156f1336b1d6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa2c96c424007ef58dda3156f1336b1d6"></a>
<a class="el" href="classKnowledgeBase.html">KnowledgeBase</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParallelHeuristicSolver.html#aa2c96c424007ef58dda3156f1336b1d6">mKB</a></td></tr>
<tr class="memdesc:aa2c96c424007ef58dda3156f1336b1d6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Various data of the heuristic, e.g. generated tuples, performance statistics, etc. <br /></td></tr>
<tr class="separator:aa2c96c424007ef58dda3156f1336b1d6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a67b01e634388d9e3ea00a668806d928d"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a67b01e634388d9e3ea00a668806d928d"></a>
<a class="el" href="structPrecalculatedMapping.html">PrecalculatedMapping</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParallelHeuristicSolver.html#a67b01e634388d9e3ea00a668806d928d">mMapping</a></td></tr>
<tr class="memdesc:a67b01e634388d9e3ea00a668806d928d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Fast searching in the data structure of the robotic cell. <br /></td></tr>
<tr class="separator:a67b01e634388d9e3ea00a668806d928d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae7760850db4471b60ae8c00dc1299ce6"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae7760850db4471b60ae8c00dc1299ce6"></a>
<a class="el" href="classHeuristicAlgorithms.html">HeuristicAlgorithms</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParallelHeuristicSolver.html#ae7760850db4471b60ae8c00dc1299ce6">algo</a></td></tr>
<tr class="memdesc:ae7760850db4471b60ae8c00dc1299ce6"><td class="mdescLeft">&#160;</td><td class="mdescRight">Optimization sub-heuristics and the related Linear Programming solver for partially fixed problems. <br /></td></tr>
<tr class="separator:ae7760850db4471b60ae8c00dc1299ce6"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3944e3973bc8a3adaf99509bc56bcb30"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3944e3973bc8a3adaf99509bc56bcb30"></a>
std::vector&lt; std::vector&lt; std::vector&lt; double &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParallelHeuristicSolver.html#a3944e3973bc8a3adaf99509bc56bcb30">mDist</a></td></tr>
<tr class="memdesc:a3944e3973bc8a3adaf99509bc56bcb30"><td class="mdescLeft">&#160;</td><td class="mdescRight">Preallocated 2-D array of distances for <a class="el" href="classParallelHeuristicSolver.html#aacfa1002d9ac0e9fbbc78a0e11b10bc1">getShortestCircuit</a> method, indexed by thread. <br /></td></tr>
<tr class="separator:a3944e3973bc8a3adaf99509bc56bcb30"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa19f3ce573a7ed7b53d2d5f443493e74"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="aa19f3ce573a7ed7b53d2d5f443493e74"></a>
std::vector&lt; std::vector&lt; std::vector&lt; int64_t &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParallelHeuristicSolver.html#aa19f3ce573a7ed7b53d2d5f443493e74">mPreds</a></td></tr>
<tr class="memdesc:aa19f3ce573a7ed7b53d2d5f443493e74"><td class="mdescLeft">&#160;</td><td class="mdescRight">Preallocated 2-D array of predecessors for <a class="el" href="classParallelHeuristicSolver.html#aacfa1002d9ac0e9fbbc78a0e11b10bc1">getShortestCircuit</a> method, indexed by thread. <br /></td></tr>
<tr class="separator:aa19f3ce573a7ed7b53d2d5f443493e74"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a02f45a19f59e451b6f1dfb21d339fea9"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a02f45a19f59e451b6f1dfb21d339fea9"></a>
std::vector&lt; std::vector&lt; std::vector&lt; <a class="el" href="classLocation.html">Location</a> * &gt; &gt; &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParallelHeuristicSolver.html#a02f45a19f59e451b6f1dfb21d339fea9">mLocs</a></td></tr>
<tr class="memdesc:a02f45a19f59e451b6f1dfb21d339fea9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Preallocated 2-D array of locations for <a class="el" href="classParallelHeuristicSolver.html#aacfa1002d9ac0e9fbbc78a0e11b10bc1">getShortestCircuit</a> method, indexed by thread. <br /></td></tr>
<tr class="separator:a02f45a19f59e451b6f1dfb21d339fea9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:af33bb9ccbb71221a2ce00f2314cc0dcb"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="af33bb9ccbb71221a2ce00f2314cc0dcb"></a>
std::vector&lt; <a class="el" href="PrecalculatedMapping_8h.html#aa148843f696e26adf64646f3db4ae3fe">SpatialCmpTuple</a> &gt;&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classParallelHeuristicSolver.html#af33bb9ccbb71221a2ce00f2314cc0dcb">mSortedSptCmp</a></td></tr>
<tr class="memdesc:af33bb9ccbb71221a2ce00f2314cc0dcb"><td class="mdescLeft">&#160;</td><td class="mdescRight">The vector of spatial compatibility pairs heuristically sorted in decreasing order of difficulty. <br /></td></tr>
<tr class="separator:af33bb9ccbb71221a2ce00f2314cc0dcb"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>A parallel heuristic for the energy optimization of robotic cells. </p>
<p>A parallel hybrid heuristic that solves the energy optimization problem of robotic cells is implemented in this class. At first the heuristic generates a candidate tuples, i.e. a partially fixed problems, that could be resulting in initial feasible solutions. If an initial solution is feasible then it is further optimized by sub-heuristics that iteratively change the fixed locations and power saving modes with respect to the energy reasoning. The best found solution is returned after a given time limit, or an exception is thrown if such a solution does not exist. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classHeuristicAlgorithms.html" title="Defines the optimization part of the parallel heuristic, i.e. sub-heuristics and the evaluation of tu...">HeuristicAlgorithms</a>, <a class="el" href="classKnowledgeBase.html" title="Protected access to the shared data of the threads of the parallel heuristic. ">KnowledgeBase</a> </dd></dl>

<p>Definition at line <a class="el" href="ParallelHeuristicSolver_8h_source.html#l00046">46</a> of file <a class="el" href="ParallelHeuristicSolver_8h_source.html">ParallelHeuristicSolver.h</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="ac9dcf8faf21774a45ac779030626a8fd"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">ParallelHeuristicSolver::ParallelHeuristicSolver </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="classRoboticLine.html">RoboticLine</a> &amp;&#160;</td>
          <td class="paramname"><em>l</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structPrecalculatedMapping.html">PrecalculatedMapping</a> &amp;&#160;</td>
          <td class="paramname"><em>m</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>It initializes the heuristic, i.e. preallocates some arrays, calculates the length of the tabu list, etc. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">l</td><td>Robotic cell to be optimized. </td></tr>
    <tr><td class="paramname">m</td><td>A mapping calculated for the given robotic cell that enables fast searching. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ParallelHeuristicSolver_8cpp_source.html#l00038">38</a> of file <a class="el" href="ParallelHeuristicSolver_8cpp_source.html">ParallelHeuristicSolver.cpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a28ae0a0e88f07796bb67480a933f979b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ParallelHeuristicSolver::addRandomTuplesToKB </td>
          <td>(</td>
          <td class="paramtype">const uint32_t &amp;&#160;</td>
          <td class="paramname"><em>threadId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const uint32_t &amp;&#160;</td>
          <td class="paramname"><em>numOfTuples</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::vector&lt; <a class="el" href="structCircuitRecord.html">CircuitRecord</a> &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>initialCircuits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="DataStructures_8h.html#a6d7070fb4665f8ddd682119b16d891e9">PrecalculatedCircuits</a> &amp;&#160;</td>
          <td class="paramname"><em>precalculatedCircuits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>It generates and adds a requested number of tuples to the <a class="el" href="classKnowledgeBase.html" title="Protected access to the shared data of the threads of the parallel heuristic. ">KnowledgeBase</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">threadId</td><td>Thread identification, i.e. a number between 0 and n-1 where n is the total number of executed threads. </td></tr>
    <tr><td class="paramname">numOfTuples</td><td>The number of candidate tuples, i.e. partially fixed problems, to be generated. </td></tr>
    <tr><td class="paramname">initialCircuits</td><td>Alternatives and the related fixed locations and shortest paths through locations, indexed by robot. </td></tr>
    <tr><td class="paramname">precalculatedCircuits</td><td><a class="el" href="structShortestCircuit.html" title="Hamiltonian circuit through static activities and the fixed locations. ">ShortestCircuit</a> to the fastest closed path through robot locations (including the fixed ones). </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ParallelHeuristicSolver_8cpp_source.html#l00738">738</a> of file <a class="el" href="ParallelHeuristicSolver_8cpp_source.html">ParallelHeuristicSolver.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aad20eb616735ba3814a0efa76c837816"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double ParallelHeuristicSolver::calculateNewCycleTime </td>
          <td>(</td>
          <td class="paramtype">const uint32_t &amp;&#160;</td>
          <td class="paramname"><em>threadId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double &amp;&#160;</td>
          <td class="paramname"><em>currentCycleTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classStaticActivity.html">StaticActivity</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>alternative</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; <a class="el" href="classLocation.html">Location</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>fixed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="classLocation.html">Location</a> *&#160;</td>
          <td class="paramname"><em>toFix</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="DataStructures_8h.html#a6d7070fb4665f8ddd682119b16d891e9">PrecalculatedCircuits</a> &amp;&#160;</td>
          <td class="paramname"><em>precalculatedCircuits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>A highly optimized function calculates a lower estimation on the robot cycle time if <em>toFix</em> location is newly fixed. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">threadId</td><td>Thread identification, i.e. a number between 0 and n-1 where n is the total number of executed threads. </td></tr>
    <tr><td class="paramname">currentCycleTime</td><td>Current lower bound on the robot cycle time for the given alternative and fixed locations. </td></tr>
    <tr><td class="paramname">alternative</td><td>Considered robot alternative, i.e. the order of static activities. </td></tr>
    <tr><td class="paramname">fixed</td><td>Locations that should be fixed to enforce the spatial compatibility. </td></tr>
    <tr><td class="paramname">toFix</td><td>A new location to be fixed, it replaces another one in <em>fixed</em> vector. </td></tr>
    <tr><td class="paramname">precalculatedCircuits</td><td><a class="el" href="structShortestCircuit.html" title="Hamiltonian circuit through static activities and the fixed locations. ">ShortestCircuit</a> to the fastest closed path through robot locations (including the fixed ones). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A lower estimation on the robot cycle time if <em>toFix</em> location is fixed instead of another one in <em>fixed</em> vector. </dd></dl>

<p>Definition at line <a class="el" href="ParallelHeuristicSolver_8cpp_source.html#l00700">700</a> of file <a class="el" href="ParallelHeuristicSolver_8cpp_source.html">ParallelHeuristicSolver.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a26dba51d1509305ce3cf966176b88d44"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double ParallelHeuristicSolver::changeRobotPaths </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>threadId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structCircuitTuple.html">CircuitTuple</a> &amp;&#160;</td>
          <td class="paramname"><em>t</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structPartialSolution.html">PartialSolution</a> &amp;&#160;</td>
          <td class="paramname"><em>ps</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; std::vector&lt; <a class="el" href="classLocation.html">Location</a> * &gt;&gt; &amp;&#160;</td>
          <td class="paramname"><em>fixed</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>It randomly modifies the robot paths to enable the heuristic to search otherwise unreachable parts of the solution space. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">threadId</td><td>Thread identification, i.e. a number between 1 and n where n is the total number of worker threads. </td></tr>
    <tr><td class="paramname">t</td><td>A partially fixed problem to be modified, i.e. tuple. </td></tr>
    <tr><td class="paramname">ps</td><td>Fixed locations, movements, and power saving modes. </td></tr>
    <tr><td class="paramname">fixed</td><td>Currently fixed locations. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A lower bound on a robot cycle time after changing robot paths. </dd></dl>

<p>Definition at line <a class="el" href="ParallelHeuristicSolver_8cpp_source.html#l00898">898</a> of file <a class="el" href="ParallelHeuristicSolver_8cpp_source.html">ParallelHeuristicSolver.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a8a03d5b53452d8439c67daeb31e05fb1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structGraph.html">Graph</a> ParallelHeuristicSolver::constructMinimalDurationGraph </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="classRobot.html">Robot</a> *&#160;</td>
          <td class="paramname"><em>r</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generates a distance graph for the given robot. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">r</td><td>A robot for which a distance graph is created.</td></tr>
  </table>
  </dd>
</dl>
<p>Generates a graph where edges are weighted by the minimal possible durations between nodes (static activities). A path from the start node to the end node that visits all the other nodes is a robot alternative. </p>

<p>Definition at line <a class="el" href="ParallelHeuristicSolver_8cpp_source.html#l00267">267</a> of file <a class="el" href="ParallelHeuristicSolver_8cpp_source.html">ParallelHeuristicSolver.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a25f0552e58e0d45be3eeb7d86947c5ea"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ParallelHeuristicSolver::controlThread </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generates various alternatives, launches worker threads, prints progress info, joins the workers, and handles errors of workers. </p>
<p>The control thread starts with the generation of alternatives, i.e. various orders of operations, for individual robots. Afterwards, the worker threads are launched to find good quality solutions. Meanwhile the control thread prints various statistical information about the heuristic performance and generates the promising tuples, i.e. partially fixed problems. After a given time limit, the worker threads are stopped and possible errors, which occurred in worker threads, are reported. </p><dl class="section note"><dt>Note</dt><dd>Thread identification of the control thread is 0. </dd></dl>

<p>Definition at line <a class="el" href="ParallelHeuristicSolver_8cpp_source.html#l00083">83</a> of file <a class="el" href="ParallelHeuristicSolver_8cpp_source.html">ParallelHeuristicSolver.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a6089f6ae29acb565dbff981ebbaaa483"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="Algorithms_8h.html#adefb1b4662303d856922650a8bca040a">DistanceMatrix</a>&lt; double &gt; ParallelHeuristicSolver::createInitialDistanceMatrix </td>
          <td>(</td>
          <td class="paramtype">const <a class="el" href="structGraph.html">Graph</a> &amp;&#160;</td>
          <td class="paramname"><em>g</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>It creates an initial matrix of distances based on edge lengths. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">g</td><td>Distance graph of a robot. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Initial two-dimensional matrix of distances between graph nodes. </dd></dl>

<p>Definition at line <a class="el" href="ParallelHeuristicSolver_8cpp_source.html#l00316">316</a> of file <a class="el" href="ParallelHeuristicSolver_8cpp_source.html">ParallelHeuristicSolver.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ab247b5c61bc4d777d5d1ce87718f50ed"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ParallelHeuristicSolver::generatePromisingTuples </td>
          <td>(</td>
          <td class="paramtype">const uint32_t &amp;&#160;</td>
          <td class="paramname"><em>threadId</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>It generates promising tuples and adds them to the <a class="el" href="classKnowledgeBase.html" title="Protected access to the shared data of the threads of the parallel heuristic. ">KnowledgeBase</a>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">threadId</td><td>Thread identification. Currently only the control thread (with id 0) generates the promising tuples. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ParallelHeuristicSolver_8cpp_source.html#l00873">873</a> of file <a class="el" href="ParallelHeuristicSolver_8cpp_source.html">ParallelHeuristicSolver.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="afa9311b7a30ceed77e990c89f7d51372"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt; <a class="el" href="structCircuitRecord.html">CircuitRecord</a> &gt; ParallelHeuristicSolver::generateRandomAlternatives </td>
          <td>(</td>
          <td class="paramtype">const uint32_t &amp;&#160;</td>
          <td class="paramname"><em>threadId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="structGraph.html">Graph</a> &amp;&#160;</td>
          <td class="paramname"><em>g</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="Algorithms_8h.html#adefb1b4662303d856922650a8bca040a">DistanceMatrix</a>&lt; double &gt; &amp;&#160;</td>
          <td class="paramname"><em>m</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Generates some random alternatives, i.e. candidates for a feasible order, from a distance graph and distance matrix of a robot. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">threadId</td><td>Thread identification, i.e. a number between 0 and n-1 where n is the total number of executed threads. </td></tr>
    <tr><td class="paramname">g</td><td>Distance graph of a robot for which random alternatives will be searched for. </td></tr>
    <tr><td class="paramname">m</td><td>Distance matrix calculated for the given graph. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Some random alternatives. </dd></dl>

<p>Definition at line <a class="el" href="ParallelHeuristicSolver_8cpp_source.html#l00330">330</a> of file <a class="el" href="ParallelHeuristicSolver_8cpp_source.html">ParallelHeuristicSolver.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a56021d5c648f710d874346e6aa1c4dc3"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">vector&lt; vector&lt; <a class="el" href="structCircuitRecord.html">CircuitRecord</a> &gt; &gt; ParallelHeuristicSolver::generateShortestCircuits </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="DataStructures_8h.html#a6d7070fb4665f8ddd682119b16d891e9">PrecalculatedCircuits</a> &amp;&#160;</td>
          <td class="paramname"><em>precalculatedCircuits</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>It finds random alternatives for each robot and calculates their shortest closed paths through locations. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">precalculatedCircuits</td><td><a class="el" href="structShortestCircuit.html" title="Hamiltonian circuit through static activities and the fixed locations. ">ShortestCircuit</a> to the fastest closed path through robot locations (including the fixed ones). </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Random alternatives and their shortest circuits through robot locations for each robot, indexed by robot. </dd></dl>

<p>Definition at line <a class="el" href="ParallelHeuristicSolver_8cpp_source.html#l00545">545</a> of file <a class="el" href="ParallelHeuristicSolver_8cpp_source.html">ParallelHeuristicSolver.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="aacfa1002d9ac0e9fbbc78a0e11b10bc1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structHamiltonianCircuit.html">HamiltonianCircuit</a>&lt; <a class="el" href="classLocation.html">Location</a> &gt; ParallelHeuristicSolver::getShortestCircuit </td>
          <td>(</td>
          <td class="paramtype">const uint32_t &amp;&#160;</td>
          <td class="paramname"><em>threadId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classStaticActivity.html">StaticActivity</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>circuit</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="classLocation.html">Location</a> * &gt; &amp;&#160;</td>
          <td class="paramname"><em>fixed</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">bool&#160;</td>
          <td class="paramname"><em>writeCircuit</em> = <code>true</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>It calculates the shortest circuit through locations that visits each static activity in the same order as it is in <em>circuit</em> parameter. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">threadId</td><td>Thread identification, i.e. a number between 0 and n-1 where n is the total number of executed threads. </td></tr>
    <tr><td class="paramname">circuit</td><td>Closed path through static activities where each static activity of a robot is visited. </td></tr>
    <tr><td class="paramname">fixed</td><td>Locations that must be visited to satisfy the spatial compatibility. </td></tr>
    <tr><td class="paramname">writeCircuit</td><td>Whether the shortest circuit through locations should be written. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>The shortest circuit through locations (if writeCircuit = true) and its minimal length. </dd></dl>

<p>Definition at line <a class="el" href="ParallelHeuristicSolver_8cpp_source.html#l00434">434</a> of file <a class="el" href="ParallelHeuristicSolver_8cpp_source.html">ParallelHeuristicSolver.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="adb316c78d863498532e062db7747497f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">double ParallelHeuristicSolver::penaltyFunction </td>
          <td>(</td>
          <td class="paramtype">const double &amp;&#160;</td>
          <td class="paramname"><em>minCycle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double &amp;&#160;</td>
          <td class="paramname"><em>demandedCycleTime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The function expressing the risk of exceeding the robot cycle time depending on its lower estimation. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">minCycle</td><td>A lower bound on the robot cycle time. </td></tr>
    <tr><td class="paramname">demandedCycleTime</td><td>A desired robot cycle time. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>A penalty value quantifying the risk of exceeding the demanded robot cycle time. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classParallelHeuristicSolver.html#a56021d5c648f710d874346e6aa1c4dc3" title="It finds random alternatives for each robot and calculates their shortest closed paths through locati...">generateShortestCircuits</a>, <a class="el" href="classParallelHeuristicSolver.html#a28ae0a0e88f07796bb67480a933f979b" title="It generates and adds a requested number of tuples to the KnowledgeBase. ">addRandomTuplesToKB</a> </dd></dl>

<p>Definition at line <a class="el" href="ParallelHeuristicSolver_8cpp_source.html#l00629">629</a> of file <a class="el" href="ParallelHeuristicSolver_8cpp_source.html">ParallelHeuristicSolver.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a377a1376f55138ee5f1aa4f1c4200991"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ParallelHeuristicSolver::printProgressInfo </td>
          <td>(</td>
          <td class="paramtype">const double &amp;&#160;</td>
          <td class="paramname"><em>currentRuntime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Prints various information about the performance of the sub-heuristics, generation of tuples, and solving reduced problems by Linear Programming. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">currentRuntime</td><td>Current execution time of the heuristic. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ParallelHeuristicSolver_8cpp_source.html#l00941">941</a> of file <a class="el" href="ParallelHeuristicSolver_8cpp_source.html">ParallelHeuristicSolver.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="ae7c18787afc1e1c32b6e5d64f17cd666"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">uint32_t ParallelHeuristicSolver::selectAlternative </td>
          <td>(</td>
          <td class="paramtype">const std::vector&lt; <a class="el" href="structCircuitRecord.html">CircuitRecord</a> &gt; &amp;&#160;</td>
          <td class="paramname"><em>alternatives</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>It randomly selects a robot alternative according to a distribution function that slightly prefers the alternatives with lower estimation of the robot cycle time. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">alternatives</td><td>Alternatives of a robot. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Index of the selected alternative (the order of operations). </dd></dl>

<p>Definition at line <a class="el" href="ParallelHeuristicSolver_8cpp_source.html#l00641">641</a> of file <a class="el" href="ParallelHeuristicSolver_8cpp_source.html">ParallelHeuristicSolver.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a425459a8d9e46ede261734c984c3bcf4"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="structSolution.html">Solution</a> ParallelHeuristicSolver::solve </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>It optimizes the robotic cell and returns the best found solution. </p>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="namespaceSettings.html" title="This namespace encapsulates various external variables related to the program settings. ">Settings</a> </dd></dl>

<p>Definition at line <a class="el" href="ParallelHeuristicSolver_8cpp_source.html#l00064">64</a> of file <a class="el" href="ParallelHeuristicSolver_8cpp_source.html">ParallelHeuristicSolver.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="afb59f538b3ced2d0388e82f837c05894"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ParallelHeuristicSolver::workerThread </td>
          <td>(</td>
          <td class="paramtype">uint32_t&#160;</td>
          <td class="paramname"><em>threadId</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">std::vector&lt; std::vector&lt; <a class="el" href="structCircuitRecord.html">CircuitRecord</a> &gt;&gt;&#160;</td>
          <td class="paramname"><em>initialCircuits</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="DataStructures_8h.html#a6d7070fb4665f8ddd682119b16d891e9">PrecalculatedCircuits</a>&#160;</td>
          <td class="paramname"><em>precalculatedCircuits</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>The worker thread generates initial tuples, and optimizes them by local modifications proposed by sub-heuristics. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">threadId</td><td>Identification of the thread, i.e. a number from 1 to <em>n</em> where <em>n</em> is the total number of worker threads. </td></tr>
    <tr><td class="paramname">initialCircuits</td><td>Various alternatives (orders of operations) for each robot, indexed by robots. </td></tr>
    <tr><td class="paramname">precalculatedCircuits</td><td><a class="el" href="structShortestCircuit.html" title="Hamiltonian circuit through static activities and the fixed locations. ">ShortestCircuit</a> to the fastest closed path through robot locations (including the fixed ones).</td></tr>
  </table>
  </dd>
</dl>
<p>The worker thread generates candidate tuples, i.e. partially fixed problems that could be resulting in feasible solutions, to be optimized. First of all, the tuple is loaded and an initial timing can be extracted from a solution of Linear Programming. If the timing can be obtained, the optimization phase starts and the sub-heuristics iteratively modifies the tuple in a way that could be resulting in an energy reduction. All the feasible solutions are passed to <a class="el" href="classKnowledgeBase.html" title="Protected access to the shared data of the threads of the parallel heuristic. ">KnowledgeBase</a>, where the list of elite solutions is located. </p><dl class="section see"><dt>See also</dt><dd><a class="el" href="classHeuristicAlgorithms.html" title="Defines the optimization part of the parallel heuristic, i.e. sub-heuristics and the evaluation of tu...">HeuristicAlgorithms</a>, <a class="el" href="classMovingAverage.html" title="The class encapsulating the calculation of the moving average. ">MovingAverage</a>, <a class="el" href="structOptimalTiming.html" title="Obtained timing for a partial problem. ">OptimalTiming</a>, <a class="el" href="namespaceSettings.html" title="This namespace encapsulates various external variables related to the program settings. ">Settings</a> </dd></dl>

<p>Definition at line <a class="el" href="ParallelHeuristicSolver_8cpp_source.html#l00156">156</a> of file <a class="el" href="ParallelHeuristicSolver_8cpp_source.html">ParallelHeuristicSolver.cpp</a>.</p>

</div>
</div>
<a class="anchor" id="a718e534c49e653598892a55e53d9d91e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void ParallelHeuristicSolver::writePerformanceRecordToLogFile </td>
          <td>(</td>
          <td class="paramtype">const double &amp;&#160;</td>
          <td class="paramname"><em>initializationTime</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const double &amp;&#160;</td>
          <td class="paramname"><em>finalRuntime</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">private</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>It writes various statistics about the heuristic performance to a CSV file. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">initializationTime</td><td>The time needed for the generation of robot alternatives and their shortest circuits through locations. </td></tr>
    <tr><td class="paramname">finalRuntime</td><td>The total real time required by the heuristic. </td></tr>
  </table>
  </dd>
</dl>

<p>Definition at line <a class="el" href="ParallelHeuristicSolver_8cpp_source.html#l00970">970</a> of file <a class="el" href="ParallelHeuristicSolver_8cpp_source.html">ParallelHeuristicSolver.cpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following files:<ul>
<li>/home/bukatlib/Downloads/Solver/inc/HeuristicSolver/<a class="el" href="ParallelHeuristicSolver_8h_source.html">ParallelHeuristicSolver.h</a></li>
<li>/home/bukatlib/Downloads/Solver/src/HeuristicSolver/<a class="el" href="ParallelHeuristicSolver_8cpp_source.html">ParallelHeuristicSolver.cpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Oct 7 2015 15:20:40 for solver by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.9.1
</small></address>
</body>
</html>
